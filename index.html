<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the Emoji</title>
    <link rel="stylesheet" href="style/style.css">
</head>

<body>
    <!-- Leaderboard Banner displaying top scores -->
    <div id="leaderboard-banner" class="leaderboard-banner">
        <span id="top-scores-text">Top Scores: Loading...</span>
    </div>

    <!-- MENU STATE: Category Selection -->
    <div id="menu-screen" class="screen">
        <div id="username-display" style="margin-bottom: 15px; font-weight: bold;"></div>
        <h1>Guess the Emoji!</h1>
        <p>Select a category:</p>
        <div id="category-buttons">
            <!-- Buttons for selecting different emoji categories -->
            <button class="category-btn" data-category="movies">Movies</button>
            <button class="category-btn" data-category="songs">Songs</button>
            <button class="category-btn" data-category="books">Books</button>
            <button class="category-btn" data-category="tv">TV Shows</button>
            <button class="category-btn" data-category="countries">Countries</button>
            <button class="category-btn" data-category="brands">Brands</button>
        </div>
    </div>

    <!-- LOBBY STATE: Confirm Selection & Start Game -->
    <div id="lobby-screen" class="screen hidden">
        <h2>Category Selected:</h2>
        <p id="selected-category">[Category Name]</p>
        <button id="start-game-btn">Start Game</button>
        <button id="return-menu-btn">Return</button>
        <div id="timer">‚è≥ Time: 30s</div>
        <div id="score">‚≠ê Score: 0</div>
    </div>

    <!-- IN-GAME STATE: Active Gameplay -->
    <div id="game-screen" class="screen hidden">
        <div id="emoji-display">üßê‚ùì</div>
        <input type="text" id="user-input" placeholder="Enter your guess">
        <button id="submit-btn">Guess</button>
        <button id="hint-btn">Hint</button>
        <button id="exit-game-btn">Exit</button>
        <div id="scoreboard">Score: <span id="game-score">0</span></div>
        <div id="game-timer">Timer: <span id="game-time">30</span>s</div>
    </div>

    <!-- FEEDBACK SECTION  -->
    <div id="feedback-screen" class="screen hidden">
        <h3>Game Over</h3>
        <p id="final-score">Final Score: 0</p>
        <textarea id="feedback-input" placeholder="What do you think about this emoji set?"></textarea>
        <button id="return-feedback-btn">Return to Menu</button> <!-- Updated ID -->
        <button id="submit-feedback-btn">Submit Feedback</button>
    </div>

    <!-- FULL LEADERBOARD SCREEN -->
    <div id="leaderboard-screen" class="screen hidden">
        <h2>üèÜ Leaderboard</h2>
        <table id="leaderboard-table">
            <thead>
                <tr><th>Player</th><th>Score</th></tr>
            </thead>
            <tbody>
                <!-- Scores will be dynamically inserted here -->
            </tbody>
        </table>
        <button id="return-menu-from-leaderboard">Return to Menu</button>
    </div>

    <!-- Firebase App (Compatibility) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <!-- Firebase Firestore (Compatibility) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-analytics-compat.js"></script>
    <script src="js/firebaseInit.js"></script>

    <!-- Running Scripts -->
    <script src="js/stateManager.js"></script> <!-- Must load first -->
    <script src="js/database.js"></script>
    <script src="js/script.js"></script>
    <script src="js/gameLogic.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/feedback.js"></script>

</body>

</html>